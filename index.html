<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<title>Î— Î”Î¹Î±Î¸Î®ÎºÎ· Ï„Î·Ï‚ Î’Î±ÏƒÎ¯Î»Î¹ÏƒÏƒÎ±Ï‚</title>

<style>

body {
  margin: 0;
  background: #111;
  color: #f5e6c8;
  font-family: Georgia, serif;
  text-align: center;
}
section { display: none; padding: 20px; }

button {
  padding: 15px 30px;
  font-size: 18px;
  background: #8b5a2b;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

input {
  padding: 10px;
  font-size: 18px;
  text-align: center;
}

iframe {
  width: 90%;
  max-width: 800px;
  height: 450px;
  border: 3px solid #8b5a2b;
  border-radius: 12px;
}

#map {
  display: grid;
  grid-template-columns: repeat(3,1fr);
  max-width: 600px;
  margin: 20px auto;
  gap: 4px;
}
.map-piece {
  aspect-ratio: 4/3;
  background-image: url("map.jpg");
  background-size: 300% 200%;
  opacity: 0;
  transition: opacity .5s;
}
.map-piece.show { opacity: 1; }

#codeImg {
  width:90%;
  max-width:500px;
  margin:20px auto;
  box-shadow: 0 0 20px gold;
}
/* Cinematic transitions */
iframe {
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 1.2s ease, transform 1.2s ease;
}

iframe.show {
  opacity: 1;
  transform: scale(1);
}

/* Magical map reveal */
.map-piece.show {
  opacity: 1;
  box-shadow: 0 0 25px gold;
  animation: glow 1.5s ease;
}

@keyframes glow {
  0% { box-shadow: 0 0 0 gold; }
  50% { box-shadow: 0 0 40px gold; }
  100% { box-shadow: 0 0 25px gold; }
}

/* Fullscreen intro video */
#autoIntro {
  position: fixed;
  inset: 0;
  background: black;
  z-index: 9999;
  display: none;
}
#autoIntro video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
#failScreen {
  display:flex;
  animation: fadeIn 2s ease;
}

@keyframes fadeIn {
  from { opacity:0; }
  to { opacity:1; }
}
</style>
</head>

<body>

<!-- START -->
<section id="start" style="display:block">
  <h1>ğŸ” ÎšÎ©Î”Î™ÎšÎŸÎ£ Î•ÎšÎšÎ™ÎÎ—Î£Î—Î£</h1>
  <input id="startCode" placeholder="ÎšÏ‰Î´Î¹ÎºÏŒÏ‚">
  <br><br>
  <button onclick="unlock()">Î•ÎÎ‘Î¡ÎÎ—</button>
</section>

<!-- INTRO -->
<section id="intro">
  <h1>ğŸ´â€â˜ ï¸ Î— Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® ÎÎµÎºÎ¹Î½Î¬</h1>
  <button onclick="playIntro()">â–¶ Î Î¡ÎŸÎ’ÎŸÎ›Î— INTRO</button><br><br>

  <iframe id="introVideo" style="display:none"
    src="https://drive.google.com/file/d/1tuB66VN6bAu_YiDDww13sJq7d-FI1iMJ/preview"
    allow="autoplay"></iframe><br><br>

  <button onclick="startGame()">Î£Î¥ÎÎ•Î§Î•Î™Î‘</button>
</section>

<!-- GAME -->
<section id="game">
  <h1>ğŸ‘‘ Î— Î”Î™Î‘Î˜Î—ÎšÎ— Î¤Î—Î£ Î’Î‘Î£Î™Î›Î™Î£Î£Î‘Î£</h1>

  <div id="map">
    <div class="map-piece" style="background-position:0% 0%"></div>
    <div class="map-piece" style="background-position:50% 0%"></div>
    <div class="map-piece" style="background-position:100% 0%"></div>
    <div class="map-piece" style="background-position:0% 100%"></div>
    <div class="map-piece" style="background-position:50% 100%"></div>
    <div class="map-piece" style="background-position:100% 100%"></div>
  </div>

  <iframe id="gameVideo" allow="autoplay"></iframe>

  <br><br>
  <input id="answer" placeholder="Î‘Ï€Î¬Î½Ï„Î·ÏƒÎ·">
  <br><br>
  <button onclick="checkAnswer()">Î¥Î ÎŸÎ’ÎŸÎ›Î—</button>
</section>

<!-- END -->
<section id="end">
  <h1>ğŸ” ÎŸ ÎšÎ©Î”Î™ÎšÎŸÎ£ Î“Î™Î‘ Î¤ÎŸ Î˜Î—Î£Î‘Î¥Î¡ÎŸ</h1>

  <img id="codeImg" src="kodikos.jpg">

  <br>
  <input id="finalCode" placeholder="ÎšÏ‰Î´Î¹ÎºÏŒÏ‚">
  <br><br>
  <button onclick="checkFinal()">Î•Î Î™Î’Î•Î’Î‘Î™Î©Î£Î—</button>

  <p id="success" style="display:none;font-size:22px;color:gold;">
    ğŸ‰ Î¤Î‘ ÎšÎ‘Î¤Î‘Î¦Î•Î¡Î•Î£!<br>
    ÎÎ•ÎšÎ›Î•Î™Î”Î©Î£Î•Î£ Î¤Î— Î”Î™Î‘Î˜Î—ÎšÎ— Î¤Î—Î£ Î’Î‘Î£Î™Î›Î™Î£Î£Î‘Î£!
  </p>

  <iframe id="finalVideo" style="display:none"
    src="https://drive.google.com/file/d/1IShsadHcwQvO18Pl3_qntH-ZoAesF9OX/preview"
    allow="autoplay"></iframe>
</section>

<script>
const START_CODE = "TREASURE2026";

const answers = [
 "ÎŸÎ˜Î©ÎÎ™ÎšÎ— Î‘Î¥Î›Î—",
 "Î‘Î›Î£ÎŸÎ£ Î•Î¥ÎšÎ‘Î›Î¥Î Î¤Î©Î",
 "ÎÎ‘ÎŸÎ£ Î‘Î ÎŸÎ£Î¤ÎŸÎ›ÎŸÎ¥ Î Î‘Î¥Î›ÎŸÎ¥",
 "Î£Î™Î”Î•Î¡Î•ÎÎ™ÎŸ Î”Î•ÎÎ¤Î¡ÎŸ",
 "Î˜Î•Î‘Î¤Î¡ÎŸ ÎœÎ™ÎœÎ—Î£ Î Î›Î•Î£Î£Î‘Î£",
 "ÎšÎ™Î’Î©Î¤ÎŸÎ£ Î¤Î©Î Î£Î ÎŸÎ¡Î©Î"
];

const videos = [
 "https://drive.google.com/file/d/1tuB66VN6bAu_YiDDww13sJq7d-FI1iMJ/preview",
 "https://drive.google.com/file/d/182GC4eRFw-9jzx2J_jEe5fb4gR-gk2Ss/preview",
 "https://drive.google.com/file/d/1KaTQ0yhztA4u4EbRlX8t_XkMOvXF96TP/preview",
 "https://drive.google.com/file/d/1VotE2oNqVvt4yZ3Zt9z9kVXw9G6LRv_5/preview",
 "https://drive.google.com/file/d/1QP4464Wxty33Mz8EbnbBBvyizXHbJdyo/preview",
 "https://drive.google.com/file/d/1MXRu4e_8JuA9SHYcncvlfHuQuoORBNri/preview"
];

let step = 0;
let timeLeft = 1800; // 30 Î»ÎµÏ€Ï„Î¬
let timerInterval;

function unlock(){
  if(startCode.value.toUpperCase() === START_CODE){
    start.style.display="none";

    autoIntro.style.display="block";
    introMp4.play();

    introMp4.onended = () => {
      autoIntro.style.display="none";
      intro.style.display="block";
    };

  } else alert("Î›Î¬Î¸Î¿Ï‚ ÎºÏ‰Î´Î¹ÎºÏŒÏ‚");
}

function playIntro(){
  introVideo.style.display="block";
  setTimeout(()=>introVideo.classList.add("show"),100);
}

function startGame(){
  intro.style.display="none";
  game.style.display="block";

  // ESCAPE MODE START
  timer.style.display="block";
  tension.volume = 0.3;
  tension.play();

  timerInterval = setInterval(()=>{
    timeLeft--;
    let min = Math.floor(timeLeft/60);
    let sec = timeLeft%60;
    timer.innerText = `â³ ${min}:${sec.toString().padStart(2,"0")}`;

    if(timeLeft <= 0){
      clearInterval(timerInterval);
      tension.pause();
      game.style.display="none";
      failScreen.style.display="flex";
    }
  },1000);

  loadStep();
}

function loadStep(){
  gameVideo.classList.remove("show");
  gameVideo.src = videos[step];
  setTimeout(()=>gameVideo.classList.add("show"),200);
}

function checkAnswer(){
  if(answer.value.toUpperCase() === answers[step]){
    document.querySelectorAll(".map-piece")[step].classList.add("show");
    answer.value="";
    step++;
    if(step < 6) loadStep();
    else {
      game.style.display="none";
      end.style.display="block";
    }
  } else alert("Î›Î¬Î¸Î¿Ï‚ Î±Ï€Î¬Î½Ï„Î·ÏƒÎ·");
}

function checkFinal(){

  // STOP ESCAPE MODE
  clearInterval(timerInterval);
  tension.pause();

  if(finalCode.value === "161311316"){
    success.style.display="block";

    // Î¼Î¿Ï…ÏƒÎ¹ÎºÎ® ÎµÏ€Î¹Î²ÏÎ¬Î²ÎµÏ…ÏƒÎ·Ï‚
    rewardMusic.volume = 0.6;
    rewardMusic.play();

    // ÎºÎ±Î¼Ï€Î¬Î½ÎµÏ‚ ÎºÎ±Î¸ÎµÎ´ÏÎ¹ÎºÎ¿Ï
    setTimeout(()=>{
      bells.volume = 0.8;
      bells.play();
    },500);

    // cinematic Ï„ÎµÎ»Î¹ÎºÏŒ video
    setTimeout(()=>{
      finalCinematic.style.display="block";
      video7.play();
    },2500);

  } else alert("Î›Î¬Î¸Î¿Ï‚ ÎºÏ‰Î´Î¹ÎºÏŒÏ‚");
}

</script>
<!-- AUTO INTRO -->
<div id="autoIntro">
  <video id="introMp4" src="intro.mp4" autoplay muted playsinline></video>
</div>
<audio id="bells" src="bells.mp3" preload="auto"></audio>
<!-- FINAL CINEMATIC -->
<div id="finalCinematic" style="
  position:fixed;
  inset:0;
  background:black;
  z-index:9999;
  display:none;">
  <video id="video7" src="video7.mp4" autoplay playsinline
    style="width:100%;height:100%;object-fit:cover">
  </video>
</div>

<!-- REWARD MUSIC -->
<audio id="rewardMusic" src="medieval.mp3" preload="auto"></audio>
<!-- ESCAPE TIMER -->
<div id="timer" style="
  position:fixed;
  top:10px;
  right:20px;
  font-size:22px;
  color:gold;
  font-family:Georgia;
  display:none;
  z-index:5000;">
â³ 30:00
</div>

<!-- FAILURE SCREEN -->
<div id="failScreen" style="
  position:fixed;
  inset:0;
  background:black;
  color:darkred;
  display:none;
  z-index:10000;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  font-size:28px;">
  â˜ ï¸ Î— ÎšÎ‘Î¤Î‘Î¡Î‘ Î£Î• Î Î¡ÎŸÎ›Î‘Î’Î• â˜ ï¸<br><br>
  Î— Î”Î¹Î±Î¸Î®ÎºÎ· Ï‡Î¬Î¸Î·ÎºÎµ Î³Î¹Î± Ï€Î¬Î½Ï„Î±â€¦
</div>

<audio id="tension" src="tension.mp3" loop preload="auto"></audio>

</body>
</html>
